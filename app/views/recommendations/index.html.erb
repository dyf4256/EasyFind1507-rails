<div data-controller=''>
  <% selected_button_class = 'btn-warning disabled full-opacity' %>
  <% non_selected_button_class = 'btn-outline-warning' %>

  <div class="profile-id">
    <%= image_tag "yuefei.jpg", class: "avatar-profile", alt: "User Photo" %>
    <h1><%= current_user.first_name %></h1>
  </div>

  <div class='profile-buttons d-flex flex-row justify-content-around mt-3 mb-1'>
    <%= link_to 'Favourited', profile_path(:favorited), class: "btn sections col-4 #{@type == 'favorited'? selected_button_class : non_selected_button_class}"%>

    <%= link_to 'Selected', profile_path(:accepted), class: "btn sections col-4 #{@type == 'accepted'? selected_button_class : non_selected_button_class}"%>

    <%= link_to 'Bookmarked', profile_path(:bookmarked), class: "btn sections col-4 #{@type == 'bookmarked'? selected_button_class : non_selected_button_class}"%>
  </div>

  <%= form_with url: profile_path(params[:type]), method: :get, class: 'd-flex justify-content-center' do %>
    <div>
      <%= check_box_tag('query[restaurant]' ) %>
      <%= label_tag(:restaurants, 'Restaurants') %>
    </div>
    <div>
      <%= check_box_tag('query[event]' ) %>
      <%= label_tag(:events, 'Events') %>
    </div>
    <div>
      <%= check_box_tag('query[attraction]' ) %>
      <%= label_tag(:attractions, 'Attractions') %>
    </div>
    <div>
      <%= check_box_tag('query[movie]' ) %>
      <%= label_tag(:movies, 'Movies') %>
    </div>
    <%= submit_tag 'Search', name: '', class: 'btn btn-primary btn-sm' %>
  <% end %>

  <!-- -->
  <div class='selected-history-container mt-2 border-top' data-profile-target='history_all'>
    <% if @recommendations.empty? %>
      <h3>No <%= @type %> activities.</h3>
      <%= link_to 'Get Started!', categories_path, class:'btn btn-primary mx-1 my-2' %>
    <% else %>
      <div class="history-by-category">
        <% @recommendations.each do |recommendation| %>
          <% activity_type = recommendation.activity_type.downcase %>
          <%= render "shared/activity_cards/#{activity_type}_card", recommendation: recommendation, type: @type %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
